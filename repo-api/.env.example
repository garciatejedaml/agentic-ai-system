# ── Provider ────────────────────────────────────────────────────────────────
# "anthropic" → local dev con Anthropic API
# "bedrock"   → AWS Bedrock (producción)
LLM_PROVIDER=anthropic

# ── Anthropic (local dev en MacBook) ────────────────────────────────────────
ANTHROPIC_API_KEY=sk-ant-...

# Modelo tiered — reduce costos ~10-20x en pipelines multi-agente:
#   ANTHROPIC_MODEL      → orquestadores + synthesizer (razonamiento profundo)
#   ANTHROPIC_FAST_MODEL → sub-agentes KDB/AMPS (principalmente tool calls)
ANTHROPIC_MODEL=claude-sonnet-4-6
ANTHROPIC_FAST_MODEL=claude-haiku-4-5

# ── AWS Bedrock (producción en AWS) ─────────────────────────────────────────
AWS_DEFAULT_REGION=us-east-1
# AWS_ACCESS_KEY_ID=...      # No necesario si usas IAM roles en EC2/Lambda
# AWS_SECRET_ACCESS_KEY=...
BEDROCK_MODEL=us.anthropic.claude-haiku-4-5-20251001-v1:0

# ── RAG / ChromaDB ──────────────────────────────────────────────────────────
CHROMA_PERSIST_DIR=.chroma_db
EMBEDDING_MODEL=all-MiniLM-L6-v2   # Modelo local de sentence-transformers
RAG_TOP_K=4

# ── MCP External Servers ────────────────────────────────────────────────────
# Brave Search: obtén tu API key gratuita en https://brave.com/search/api/
# Si no se define, el servidor de Brave Search se deshabilita automáticamente.
# BRAVE_API_KEY=BSA...

# Fetch: no requiere API key (siempre habilitado)

# Filesystem: directorio local que el agente puede leer (por defecto ./data)
MCP_FILESYSTEM_PATH=./data

# ── Observability ───────────────────────────────────────────────────────────
# Activa/desactiva toda la telemetría (Langfuse + Phoenix)
OBSERVABILITY_ENABLED=false

# Langfuse (graph view de LangGraph + métricas + costos)
# Genera las keys en http://localhost:3000/settings después de levantar el stack
LANGFUSE_PUBLIC_KEY=pk-lf-...
LANGFUSE_SECRET_KEY=sk-lf-...
LANGFUSE_HOST=http://localhost:3000

# Phoenix / Arize (análisis de spans RAG + trace waterfall)
# No requiere API key para self-hosted
PHOENIX_ENDPOINT=http://localhost:6006

# ── KDB+ historical data store ───────────────────────────────────────────────
# KDB_MODE=poc    → DuckDB backend, reads Parquet from KDB_DATA_PATH (no license needed)
#                   Run first: python scripts/generate_synthetic_rfq.py
# KDB_MODE=server → real KDB+ server via PyKX (requires kx.com license)
#                   Start server: docker compose -f docker-compose.kdb.yml up -d
KDB_ENABLED=false
KDB_MODE=poc
KDB_DATA_PATH=./data/kdb

# KDB+ server connection (only used when KDB_MODE=server)
KDB_HOST=localhost
KDB_PORT=5000

# ── AMPS (60East Technologies pub/sub) ──────────────────────────────────────
# Activa el MCP server de AMPS. Requiere que el container esté corriendo:
#   docker compose -f docker-compose.amps.yml up -d
# Y que el binario AMPS.tar esté en docker/amps/AMPS.tar (ver docker/amps/Dockerfile)
AMPS_ENABLED=false
AMPS_HOST=localhost
AMPS_PORT=9007
AMPS_ADMIN_PORT=8085
# AMPS_CLIENT_NAME=agentic-ai-system   # Nombre del cliente visible en el admin

# ── LangGraph ───────────────────────────────────────────────────────────────
LANGGRAPH_DEBUG=false
